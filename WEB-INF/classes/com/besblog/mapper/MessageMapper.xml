<?xml version="1.0"  encoding="utf-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.besblog.mapper.MessageMapper">


<!-- 用户消息 -->

<insert id="insertUMessage" parameterType="com.besblog.pojo.UMessage">
   INSERT INTO t_uMessage (mid,uid,content,type)
   			 VALUES (#{mid},#{uid},#{content},#{type})
</insert>

<select id="selectAllUMessagesByUid"  parameterType="String" resultType="com.besblog.pojo.UMessage">
	  select * from t_uMessage where  uid = #{uid} 
  		order by t_uMessage.publishtime desc
</select>

<select id="selectUnreadedUMessagesByUid"  parameterType="String" resultType="com.besblog.pojo.UMessage">
	  select * from t_uMessage where  uid = #{uid} and readStatus="1"
  		order by t_uMessage.publishtime desc
</select>

<select id="selectReadedUMessagesByUid"  parameterType="String" resultType="com.besblog.pojo.UMessage">
	  select * from t_uMessage where  uid = #{uid} and readStatus="2"
  		order by t_uMessage.publishtime desc
</select>


<update id="updateUMessageToReaded" parameterType="String">
     update t_uMessage
          set readStatus = "2"
            where mid = #{mid}
</update>






</mapper>