<?xml version="1.0"  encoding="utf-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.besblog.mapper.AdminMapper">


<!-- 审核文章 -->
<!-- 获得所有未审核的文章的数量 -->
<select id="getAllArticleCount" resultType="int">
	select count(aid) from t_article 
		where checkstatus = "0"
</select>

<select id="selectAllArticlesToCheck"  resultType="com.besblog.pojo.Article">
	  select * from t_article where  checkstatus = "0"
  		order by t_article.establishtime desc
</select>

<update id="updateArticleToApproved" parameterType="String">
     update t_article
          set checkstatus = "1"
            where aid = #{aid}
</update>

<update id="updateArticleToFail" parameterType="String">
     update t_article
          set checkstatus = "2"
            where aid = #{aid}
</update>



<!-- 消息相关 --> <!-- order by publishtime desc -->

<!-- 获得消息数 -->
<select id="getAllMessageCount" resultType="int">
	select count(mid) from t_aMessage 
</select>
<select id="getUnreadedMessageCount" resultType="int">
	select count(mid) from t_aMessage
		where readStatus = "1" 
</select>
<select id="getReadedMessageCount" resultType="int">
	select count(mid) from t_aMessage 
		where readStatus = "2" 
</select>




</mapper>